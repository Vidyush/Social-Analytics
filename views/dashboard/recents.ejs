<%- include('../_includes/head') %>

<div class="dashboard-page">
    <%- include('../_includes/dashboardNavMini') %>
 
  <div class="dashboard">
    <div class="search-section">
      <div class="container-fluid deshheader">
          <%- include('../_includes/dashboardNav') %>
          <div class="col-12">
            <h3>Recent Searches</h3>
            <div class="card withheading">
              <div class="dtablebox">
                <table id="example" class="display nowrap cell-border" style="width:100%">
                  <thead>
                    <tr>
                      <th>Hashtag</th>
                      <th>Tweets</th>
                      <th>Retweets</th>
                      <th>Engagement</th>
                      <th>Details</th>
                      <!-- <th>Sentiment</th>
                      <th>Buzzwords</th> -->
                      </tr>
                  </thead>
                  <tbody>
                          <%  recents.length && recents.forEach(recent=>{ %>
                    <tr>
                      
                      <td><%= recent.keyword %></td>
                      <td><%= recent.dashboardJson.total_tweets%></td>
                      <td><%= recent.dashboardJson.total_retweets %></td>
                      <td><%= recent.dashboardJson.engagement %></td>
                      <td><a href="/dashboard/<%=recent.id%>">View</a></td>
                      <!-- <td><a class="openrecentpopup" data-toggle="modal" data-target="#myModal" onclick="showLoader('/dashboard/<%=recent.id%>');">VIEW</a></td> -->
                      <!-- <td><a class="openrecentpopup" data-toggle="modal" data-target="#myModal" onclick="showLoader('/recentSentiment/<%=recent.id%>');">VIEW</a></td>
                      <td><a class="openrecentpopup" data-toggle="modal" data-target="#myModal" onclick="showLoader('/recentBuzzwords/<%=recent.id%>');">VIEW</a></td> -->
                      <% }) %> 
                    </tr>
                    
                    
                  </tbody>
                </table>
              </div>
            </div>
            </div>
    
</div>
</div>
<div class="dash-footer">
  <p class="dash-copyright">
      <script>
          var d = new Date();
          var dy = d.getFullYear();
          document.write(dy);
      </script> Social Analysis. All Rights Reserved.
  </p>
</div>
<!-- <div class="customviewmodel"></div>
<div class="contentarea recentpage">
  <p><a href="javascript:void(0);" class="closedialoge closerecentpopup">&times;</a></p>
  <iframe style="width:100%; height:calc(100% - 50px)" class ="myFrame" id="myFrame" src="" frameborder="0"></iframe>
</div> -->
<!-- <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 100%;max-width:800px;">
  
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
            <iframe style="width:100%; height:500px" class ="myFrame" id="myFrame" src="" frameborder="0"></iframe>
        </div>
      </div>
  
    </div>
  </div> -->

   
    
  
<!--     
  <script>
      function showLoader(obj){
        
        var myFrame = document.getElementById('myFrame');
        
   console.log(obj)
         myFrame.src = obj;  
   
	
}
  $(document).ready(function(){
    $('.openrecentpopup').click(function(){
      $('.customviewmodel, .contentarea').addClass('open');
    });
    $('.closerecentpopup').click(function(){
      $('.customviewmodel, .contentarea').removeClass('open');
    });
  });
  </script> -->

<script>


$(document).ready(function() {  
    $('#example').DataTable( {  
      "scrollX": true,
      "bLengthChange": false,
        initComplete: function () {  
            this.api().columns().every( function () {  
                var column = this;  
                var select = $('<select><option value=""></option></select>')  
                    .appendTo( $(column.footer()).empty() )  
                    .on( 'change', function () {  
                        var val = $.fn.dataTable.util.escapeRegex(  
                            $(this).val()  
                        );  
                //to select and search from grid  
                        column  
                            .search( val ? '^'+val+'$' : '', true, false )  
                            .draw();  
                    } );  
   
                column.data().unique().sort().each( function ( d, j ) {  
                    select.append( '<option value="'+d+'">'+d+'</option>' )  
                } );  
            } );  
        }  
    } );  
} );
</script> 



<%- include('../_includes/noFooter') %>